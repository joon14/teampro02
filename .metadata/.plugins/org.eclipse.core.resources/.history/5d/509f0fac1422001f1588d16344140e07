<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC 
"-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="member">
    <!-- Get all members -->
    <select id="getMemberList" resultType="com.project.domain.Member">
        SELECT * FROM member
    </select>

    <!-- Get specific member by ID -->
    <select id="getMember" parameterType="String" resultType="com.project.domain.Member">
        SELECT id, pw, name, email, tel, postcode, addr, birth, regdate, level, report, caution, able 
        FROM member 
        WHERE id = #{id}
    </select>

    <!-- Insert a new member -->
    <insert id="insMember" parameterType="com.project.domain.Member">
        INSERT INTO member (id, pw, name, email, tel, postcode, addr, birth, payment, level, report, caution, able)
        VALUES (#{id}, #{pw}, #{name}, #{email}, #{tel}, #{postcode}, #{addr}, #{birth}, default, default, default, default, default)
    </insert>

    <!-- Update an existing member -->
    <update id="upMember" parameterType="com.project.domain.Member">
        UPDATE member SET 
            pw = #{pw}, 
            name = #{name}, 
            email = #{email}, 
            tel = #{tel}, 
            postcode = #{postcode}, 
            addr = #{addr}, 
            birth = #{birth}
        WHERE id = #{id}
    </update>

    <!-- Delete a member by ID -->
    <delete id="delMember" parameterType="String">
        DELETE FROM member WHERE id = #{id}
    </delete>

    <!-- Check if an ID exists -->
    <select id="idCheck" parameterType="String" resultType="int">
        SELECT COUNT(*) FROM member WHERE id = #{id}
    </select>
</mapper>

     
